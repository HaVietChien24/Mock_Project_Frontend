<div class="outer-container">
    <form class="register-form" [formGroup]="registerForm" (ngSubmit)="onSubmit()">
        <div class="row mb-2">
            <div class="col-6">
                <h1>Register</h1>
                <p>Welcome to the online library</p>
            </div>
            <div class="col-6">
                <img src="assets/images/logo/logo-no-background.png" id="logo" />
            </div>
        </div>

        @if (errorMessage) {
        <div class="alert alert-danger w-100 danger-box mt-2">
            {{errorMessage}}
        </div>
        }

        <div class="form-group name-row">
            <div>
                <label for="firstName">First Name*</label>
                <input type="text" class="form-control" id="firstName" placeholder="First Name"
                    formControlName="firstName" />
            </div>

            <div>
                <label for="lastName">Last Name*</label>
                <input type="text" class="form-control" id="lastName" placeholder="Last Name"
                    formControlName="lastName" />
            </div>
        </div>

        <div class="form-group">
            <label for="username">Username*</label>
            <input type="text" class="form-control" id="username" placeholder="Username" formControlName="username" />
        </div>

        <div class="form-group">
            <label for="email">Email*</label>
            <input type="text" class="form-control" id="email" placeholder="Email" formControlName="email" />
        </div>

        <div class="form-group">
            <label for="phone">Phone Number*</label>
            <input type="text" class="form-control" id="phone" placeholder="Phone Number" formControlName="phone" />
        </div>

        <div class="form-group">
            <label for="password">Password*</label>
            <div class="password-row">
                <input [type]="showPassword ? 'text' : 'password'" class="form-control" id="password"
                    placeholder="Password" formControlName="password" />

                <button type="button" class="btn btn-success ms-2 show-password-btn" (click)="handleShowPassword()">
                    <i [className]="showPassword ? 'bi bi-eye-slash-fill' : 'bi bi-eye-fill'"></i>
                </button>
            </div>
        </div>

        <div class="form-group">
            <label for="confirmPassword">Confirm Password*</label>
            <div class="password-row">
                <input [type]="showPassword ? 'text' : 'password'" class="form-control" id="confirmPassword"
                    placeholder="Password" formControlName="confirmPassword" />

                <button type="button" class="btn btn-success ms-2 show-password-btn" (click)="handleShowPassword()">
                    <i [className]="showPassword ? 'bi bi-eye-slash-fill' : 'bi bi-eye-fill'"></i>
                </button>
            </div>
        </div>

        <button type="submit" class="btn btn-primary w-100 mt-2" [disabled]="registerForm.invalid || isLoading">
            @if (isLoading) {
            <app-spinner></app-spinner>
            }
            @else {
            Register
            }
        </button>

        <a routerLink="/login" class="redirector">Already have an account? Login now!</a>
    </form>
</div>